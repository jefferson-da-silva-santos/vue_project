<script setup lang="ts">
import TopCard from "../TopCard/index.vue"
import { useGastos } from "../../stores/useGastos"

// ðŸ”¥ agora vem tudo pronto
const {
  totalGasto,
  mediaDiaria,
  maiorGasto,
  porcentagemGastosPagos
} = useGastos()

// FormataÃ§Ã£o BR ðŸ‡§ðŸ‡· (UI Ã© responsabilidade do componente)
const formatarMoeda = (valor: number) =>
  valor.toLocaleString("pt-BR", {
    style: "currency",
    currency: "BRL",
  })

const formatarPorcentagem = (valor: number) =>
  `${valor.toFixed(0)}%`
</script>

<template>
  <div class="group-top-cards">
    <TopCard
      title="Total gasto no mÃªs"
      :value="formatarMoeda(totalGasto)"
    />

    <TopCard
      title="MÃ©dia diÃ¡ria de gastos"
      :value="formatarMoeda(mediaDiaria)"
    />

    <TopCard
      title="Maior gasto do perÃ­odo"
      :value="formatarMoeda(maiorGasto)"
    />

    <TopCard
      title="% de gastos pagos"
      :value="formatarPorcentagem(porcentagemGastosPagos)"
    />
  </div>
</template>
